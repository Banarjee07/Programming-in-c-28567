//Using fprintf and fscanf
#include<stdio.h>
int main(){
    int roll[3]={45659,45963,45236};
    int i;
    char *name[3]={"Wahid","Kadir","Azad"};
    float marks[3] = {88,85,89};
    FILE *fp;
    char *fn;
    printf("Enter a file name: ");
    scanf("%s",fn);
    fp = fopen(fn,"w");
    for(i=0; i<3; i++){
        fprintf(fp,"%d\t%s\t%.2f\n",roll[i],name[i],marks[i]);
    }
    fclose(fp);
    fp = fopen(fn,"r");
    i=0;
    printf("\nRoll\tName\tMarks");
    printf("\n-------\t-------\t-------\n");
    while(fscanf(fp,"%d%s%f",&roll,&name,&marks) != EOF){
        printf("\n%d\t%s\t%.2f",roll[i],name,marks[i]);
        i++;
    }
    fclose(fp);
return 0;
}



Output:
Enter a file name: wahid.txt
Roll	Name	Marks
-------	-------	-------
45659	Wahid	88.00
45963	Kadir	85.00
45236	Azad	89.00


//fwrite() and fread()


#include <stdio.h>
struct Students {
    long Roll;
    char Name [20];
    float Marks;
};
void main(){
    struct Students S[30];
    char *fname;
    FILE *fp;
    fp=fopen ("struct.txt", "wb");
    int N;
xx:
    printf("\nEnter Number of Students (max 30):");
    scanf("%d", &N);
    if (N <= 0 || N>30)
    goto xx;
for (int i = 1; i <= N; i++)

{/* Input from keyboard and write to file"*/
    printf("\nEnter Record of S[%d]", i);
    printf ("\nEnter Roll: ");
    scanf("%ld", &S[i].Roll);
    printf("\nEnter Name:");
    scanf("%s", &S[i].Name);
    printf ("\nEnter Marks: ");
    scanf("%f",&S[i].Marks);
    fwrite(&S[i], sizeof(S[i]), 1, fp); //write to file
}
fclose (fp);
fp = fopen("struct.txt", "rb");
for (int i=1; i <= N; i++)
{/* read from file & display to monitor*/
    fread (&S[i], sizeof(S[i]),1, fp); //read from file
    printf("\nRecord of S[%d] : ", i);
    printf("\n--------------");
    printf ("\nRoll: %d", S[i].Roll);
    printf ("\nName: %s", S [i].Name);
    printf("\nMarks: %.2f", S[i].Marks);
    printf("\n");
}
fclose (fp);

return 0;
}



Output:
Enter Number of Students (max 30):3
Enter Record of S[1]
Enter Roll: 89
Enter Name:Shuvo
Enter Marks: 88
Enter Record of S[2]
Enter Roll: 47
Enter Name:utpal
Enter Marks: 87
Enter Record of S[3]
Enter Roll: 93
Enter Name:Sushil
Enter Marks: 86
Record of S[1] : 
--------------
Roll: 89
Name: Shuvo
Marks: 88.00

Record of S[2] : 
--------------
Roll: 47
Name: utpal
Marks: 87.00

Record of S[3] : 
--------------
Roll: 93
Name: Sushil
Marks: 86.00






